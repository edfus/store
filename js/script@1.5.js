(()=>{{let e=!1;document.getElementById("nav-search-btn").addEventListener("click",(function(){e||(e=!0,document.getElementById("search-form-wrap").classList.add("on"),setTimeout(()=>{e=!1,document.getElementById("search-input").focus()},200))}),{passive:!0}),document.getElementById("nav-search-btn").addEventListener("focusin",()=>{e||(e=!0,document.getElementById("search-form-wrap").classList.add("on"),setTimeout(()=>{e=!1,document.getElementById("search-input").focus()},200))},{passive:!0}),document.getElementById("search-input").addEventListener("focusout",()=>{document.getElementById("search-form-wrap").classList.remove("on"),setTimeout(()=>{e=!1},200)},{passive:!0})}{let e=!1;const t=()=>{if(!e&&window.matchMedia("(max-width: 479px)").matches){e=!0;let t=!1,o=!1;const n=document.getElementById("mobile-nav"),s=document.getElementById("header-inner"),i=document.getElementById("sub-nav"),a=document.getElementById("header-title"),d=()=>{s.style.willChange="background",s.classList.add("on"),i.classList.add("off"),n.removeAttribute("hidden"),setTimeout(()=>{n.classList.add("on"),s.classList.add("show"),i.style.display="none",a.classList.add("off"),setTimeout(()=>{t=!1,o=!0},200)},300)},c=()=>{n.classList.remove("on"),a.classList.remove("off"),i.style.display="block",s.classList.remove("show"),setTimeout(()=>{s.classList.remove("on"),i.classList.remove("off"),n.setAttribute("hidden","true"),setTimeout(()=>{t=!1,o=!1,s.style.willChange="auto"},200)},300)};document.getElementById("main-nav-toggle").addEventListener("click",(function(){t||(t=!0,o?c():d())}),{passive:!0}),document.getElementById("main").addEventListener("click",(function(){!t&&o&&c()}),{passive:!0})}};t(),window.addEventListener("orientationchange",t,{passive:!0})}window.copy2clipboard=e=>{const t=()=>{let e=document.querySelector("aside.article-share-success");e.getAttribute("hidden")&&(e.removeAttribute("hidden"),e.style.opacity=1,setTimeout(()=>{!function t(){(e.style.opacity-=.1)<0?e.setAttribute("hidden","true"):setTimeout(t,40)}()},4e3))};if(e.dataset.clipboardText)if(navigator.clipboard)navigator.clipboard.writeText(e.dataset.clipboardText).then(()=>{t()},()=>{console.log("clipboard write failed")});else if(document.queryCommandSupported("copy")){let o=document.createElement("textarea");o.innerHTML=e.dataset.clipboardText,o.classList.add("visually-hidden");try{e.appendChild(o),o.select(),document.execCommand("Copy")?t():console.log('execCommand("Copy") unsuccessful'),o.remove()}catch(e){console.log("Fail to copy")}}else console.log("!navigator.clipboard & !document.queryCommandSupported('copy')");return!1};{const e=function(){const e=document.querySelector("a.gotop");var t=null;window.addEventListener("scroll",()=>{null===t&&(t=setTimeout(()=>{window.scrollY>300?e.classList.add("show"):e.classList.remove("show"),t=null},200))},{passive:!0})};"loading"!==document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e,{passive:!0,once:!0})}{const e=document.querySelector("footer#footer"),t=()=>{e.offsetTop+e.offsetHeight<=window.innerHeight||e.offsetParent.scrollHeight<=window.innerHeight?e.style.cssText="position:fixed;left:0;bottom:0":e.style.cssText=""};"complete"===document.readyState?setTimeout(t,1):window.addEventListener("load",t,{passive:!0,once:!0}),window.addEventListener("orientationchange",t,{passive:!0})}{const e=()=>{let e=document.querySelector(".article-inner");if(!0!==e.classList.contains("index-page")&&window.matchMedia("(min-width: 479px)").matches){const t=e.offsetHeight-50,o=document.createElement("STYLE");if(e.classList.contains("toc-on")){const e=(document.getElementById("toc").offsetHeight+400)/t*100;o.innerText=".article-inner.toc-on:before{height:"+t+"px; background: linear-gradient(#2AB8FF 0%, #fff "+e+"%, #EAEAEA 75%, #CFCFCFaf 88%, transparent 100%)}"}else o.innerText=".article-inner:before{height:"+t+"px}";return e.appendChild(o)}return!1};"complete"===document.readyState?setTimeout(e,1):window.addEventListener("load",e,{passive:!0,once:!0}),window.addEventListener("orientationchange",e,{passive:!0})}{const e="scrollPosition-"+location.pathname.split("/").filter(e=>""!==e).join("-"),t=e=>{""===location.hash&&Math.abs(window.scrollY-e)>o&&(console.log("scrolling to previous position: "+e),setTimeout(()=>window.scrollTo(0,e),1))},o=500;/scrollPosition-20..-/.test(e)&&(e in localStorage&&("complete"===document.readyState?t(parseInt(localStorage[e],10)):window.addEventListener("load",()=>t(parseInt(localStorage[e],10)),{passive:!0,once:!0})),window.addEventListener("beforeunload",()=>{window.scrollY<document.documentElement.scrollHeight-1.5*window.innerHeight?window.scrollY>o&&(localStorage[e]=window.scrollY):localStorage[e]&&localStorage.removeItem(e)},{passive:!0,once:!0}))}})();